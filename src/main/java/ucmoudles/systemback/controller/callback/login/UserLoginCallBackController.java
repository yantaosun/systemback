package ucmoudles.systemback.controller.callback.login;import com.ucs.moudlecommon.domain.SysUsers;import com.ucs.moudlecommon.response.BaseResponse;import org.slf4j.Logger;import org.slf4j.LoggerFactory;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.RequestMapping;import ucmoudles.systemback.business.UserLoginCallBackBusiness;import ucmoudles.systemback.config.annotations.SkipSecretKey;import javax.servlet.http.HttpServletRequest;/** * @author 9527 * @ClassName UserSignUp * @Date 2020/1/20 * @Description TODO * @Version 1.0 */@Controller@RequestMapping("/login/callback")public class UserLoginCallBackController {    private Logger logger = LoggerFactory.getLogger(UserLoginCallBackController.class);    @Autowired    private UserLoginCallBackBusiness userLoginCallBackBusiness;    @RequestMapping(value = "/github")    @SkipSecretKey    public String callbackGitHub(HttpServletRequest request) throws Exception{        logger.info("github login callback controller");        BaseResponse<SysUsers> resp ;        resp = userLoginCallBackBusiness.githubCallback(request);        if(resp.isSuccess()){            request.setAttribute("name", resp.getResult().getMemPhoneNumber());            request.setAttribute("pass", resp.getResult().getMemPassWord());        }else{            request.setAttribute("error",resp.getMessage());        }        return "system/pages/authentication/sign-in";    }    @RequestMapping(value = "/weibo")    @SkipSecretKey    public String callBackWeiBo(HttpServletRequest request) throws Exception{        logger.info("github login callback controller");        BaseResponse resp ;        resp = userLoginCallBackBusiness.weiboCallback(request);        if(resp.isSuccess()){            request.setAttribute("name", SysUsers.class.cast(resp.getResult()).getMemPhoneNumber());            request.setAttribute("pass", SysUsers.class.cast(resp.getResult()).getMemPassWord());        }else{            request.setAttribute("error",resp.getMessage());        }        return "system/pages/authentication/sign-in";    }}